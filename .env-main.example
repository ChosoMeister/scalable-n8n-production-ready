# ===== Node.js Environment =====
NODE_ENV=production

# ===== Database (via PgBouncer) =====
DB_TYPE=postgresdb
DB_POSTGRESDB_HOST=pgbouncer
DB_POSTGRESDB_PORT=6432
DB_POSTGRESDB_DATABASE=n8n
DB_POSTGRESDB_USER=n8n_user
DB_POSTGRESDB_PASSWORD=CHANGE_ME_DB_PASSWORD

# ===== Queue Mode (Redis) =====
EXECUTIONS_MODE=queue
QUEUE_BULL_REDIS_HOST=redis
QUEUE_BULL_REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD
QUEUE_HEALTH_CHECK_ACTIVE=true

# ===== n8n URLs & Proxy =====
N8N_HOST=n8n.yourdomain.com
N8N_PORT=5678
N8N_PROTOCOL=https
N8N_EDITOR_BASE_URL=https://n8n.yourdomain.com
WEBHOOK_URL=https://n8n-webhook.yourdomain.com

# ===== Security =====
N8N_ENCRYPTION_KEY=CHANGE_ME_ENCRYPTION_KEY
N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true
N8N_BLOCK_ENV_ACCESS_IN_NODE=true
N8N_DISABLE_PRODUCTION_MAIN_PROCESS=true
N8N_SECURE_COOKIE=true

# ===== Task Runners (for Code nodes) =====
N8N_RUNNERS_ENABLED=true
N8N_RUNNERS_MODE=internal

# ===== Execution Settings =====
EXECUTIONS_TIMEOUT=3600
EXECUTIONS_DATA_SAVE_ON_ERROR=all
EXECUTIONS_DATA_SAVE_ON_SUCCESS=all
EXECUTIONS_DATA_SAVE_MANUAL_EXECUTIONS=true
EXECUTIONS_DATA_PRUNE=true
EXECUTIONS_DATA_MAX_AGE=168

# ===== Timezone =====
GENERIC_TIMEZONE=Asia/Tehran
TZ=Asia/Tehran